# Tour X Setup Documentation

## Overview

Tour X has been successfully created with the exact capacity requirements specified:

- **Total Tour Capacity**: 60 participants
- **Execution Dates**: May 20, 2024 and May 21, 2024
- **Capacity per Day**: 30 participants (10 VIP + 10 ECO + 10 NORMAL)

## Tour Details

### Basic Information

- **Title**: Tour X - Cultural Experience
- **Slug**: `tour-x`
- **Category**: Cultural Tours
- **Duration**: 8 hours (585 minutes total itinerary)
- **Currency**: USD
- **Tour Type**: Day tour
- **Transport Type**: Land
- **City**: Tehran
- **Country**: Iran
- **Featured**: Yes
- **Popular**: Yes

### Pricing Structure

| Variant | Base Price | Capacity per Day | Features                                                   |
| ------- | ---------- | ---------------- | ---------------------------------------------------------- |
| VIP     | $250.00    | 10               | Private transfer, Expert guide, Special meal, Photographer |
| ECO     | $180.00    | 10               | Expert guide, Extended hours                               |
| NORMAL  | $150.00    | 10               | Standard services                                          |

### Schedule Information

| Date         | Total Capacity | VIP | ECO | NORMAL |
| ------------ | -------------- | --- | --- | ------ |
| May 20, 2024 | 30             | 10  | 10  | 10     |
| May 21, 2024 | 30             | 10  | 10  | 10     |

## Capacity Verification

✅ **Tour X Total Capacity**: 60 participants  
✅ **May 20 Capacity**: 30 participants (10 VIP + 10 ECO + 10 NORMAL)  
✅ **May 21 Capacity**: 30 participants (10 VIP + 10 ECO + 10 NORMAL)

## Services Included

### Base Services (All Variants)

- ✅ Transfer included
- ✅ Guide included
- ✅ Meal included
- ❌ Photographer (VIP only)

### Variant-Specific Services

#### VIP Package ($250.00)

- ✅ Private transfer
- ✅ Expert guide
- ✅ Special meal
- ✅ Professional photographer
- ✅ Extended hours (+2 hours)

#### ECO Package ($180.00)

- ✅ Standard transfer
- ✅ Expert guide
- ✅ Standard meal
- ❌ Photographer
- ✅ Extended hours (+1 hour)

#### NORMAL Package ($150.00)

- ✅ Standard transfer
- ✅ Standard guide
- ✅ Standard meal
- ❌ Photographer
- ❌ Extended hours

## Additional Options

| Option        | Price  | Type      | Max Quantity |
| ------------- | ------ | --------- | ------------ |
| Private Guide | $50.00 | Service   | 1            |
| Lunch Upgrade | $25.00 | Food      | 10           |
| Photo Package | $30.00 | Equipment | 5            |

## Booking Information

- **Minimum Participants**: 1
- **Maximum Participants**: 60 (total tour capacity)
- **Booking Cutoff**: 24 hours before tour
- **Cancellation Policy**: 48 hours notice required
- **Refund Percentage**: 80%

## Cancellation Policy Details

### Tour X Cancellation Policy

- **Cancellation Deadline**: 48 hours before tour start
- **Refund Amount**: 80% of total booking value
- **Late Cancellation**: No refund for cancellations within 48 hours
- **Force Majeure**: Full refund for weather-related cancellations or tour operator cancellations
- **Rescheduling**: Free rescheduling up to 24 hours before tour (subject to availability)

### Policy Highlights

✅ **Flexible Cancellation**: 48-hour window for changes  
✅ **Generous Refund**: 80% refund for timely cancellations  
✅ **Free Rescheduling**: Option to change dates without penalty  
✅ **Weather Protection**: Full refund for weather-related issues  
✅ **Operator Cancellations**: Full refund if tour is cancelled by operator

## Tour Times

- **Pickup Time**: 8:30 AM
- **Start Time**: 9:00 AM
- **End Time**: 5:00 PM

## Tour Reviews & Ratings

### Review Summary

- **Total Reviews**: 8
- **Average Rating**: 4.1⭐
- **Verified Reviews**: 8 (100%)
- **Total Helpful Votes**: 52

### Rating Distribution

| Rating | Count | Percentage | Stars      |
| ------ | ----- | ---------- | ---------- |
| 5⭐    | 3     | 37.5%      | ⭐⭐⭐⭐⭐ |
| 4⭐    | 3     | 37.5%      | ⭐⭐⭐⭐   |
| 3⭐    | 2     | 25.0%      | ⭐⭐⭐     |

### Review Categories

| Category   | Count | Percentage |
| ---------- | ----- | ---------- |
| General    | 2     | 25.0%      |
| Price      | 2     | 25.0%      |
| Quality    | 2     | 25.0%      |
| Experience | 2     | 25.0%      |

### Language Distribution

- **Persian Reviews**: 4 (50%)
- **English Reviews**: 4 (50%)

### Sample Reviews

#### 5-Star Reviews

- **"تجربه فوق‌العاده فرهنگی"** - Experience category
- **"Amazing Cultural Experience"** - Experience category
- **"قیمت مناسب برای ارزش دریافتی"** - Price category

#### 4-Star Reviews

- **"کیفیت خدمات عالی"** - Quality category
- **"Excellent Service Quality"** - Quality category
- **"Good Value for Money"** - Price category

#### 3-Star Reviews

- **"تجربه متوسط"** - General category
- **"Average Experience"** - General category

## Tour Itinerary

### Complete Day Schedule

| Order | Activity                      | Duration | Location                      | Description                                                                                                                                         |
| ----- | ----------------------------- | -------- | ----------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1     | Welcome & Orientation         | 30 min   | Meeting Point - Central Plaza | Meet your guide and fellow travelers. Brief orientation about the day's schedule and safety guidelines.                                             |
| 2     | Historical Museum Visit       | 90 min   | National History Museum       | Explore the rich history of the region through interactive exhibits and ancient artifacts. Learn about the cultural heritage that shaped this area. |
| 3     | Traditional Market Experience | 60 min   | Old Bazaar District           | Immerse yourself in the vibrant local market atmosphere. Discover traditional crafts, spices, and local delicacies.                                 |
| 4     | Lunch at Local Restaurant     | 75 min   | Traditional Restaurant        | Enjoy authentic local cuisine at a carefully selected restaurant. Taste traditional dishes prepared with fresh, local ingredients.                  |
| 5     | Ancient Temple Complex        | 120 min  | Sacred Temple Complex         | Visit the magnificent temple complex dating back centuries. Marvel at the intricate architecture and spiritual significance.                        |
| 6     | Cultural Performance          | 45 min   | Cultural Center               | Experience traditional music and dance performances by local artists. Learn about the cultural traditions and artistic heritage.                    |
| 7     | Scenic Viewpoint              | 30 min   | Mountain Viewpoint            | Take in breathtaking panoramic views of the city and surrounding landscape. Perfect photo opportunity with stunning vistas.                         |
| 8     | Artisan Workshop Visit        | 60 min   | Artisan Quarter               | Watch skilled artisans at work creating traditional crafts. Learn about traditional techniques and maybe try your hand at crafting.                 |
| 9     | Evening Tea Ceremony          | 45 min   | Traditional Tea House         | Participate in a traditional tea ceremony, learning about local customs and enjoying the peaceful atmosphere.                                       |
| 10    | Farewell & Return             | 30 min   | Meeting Point - Central Plaza | Wrap up the day with a farewell gathering, sharing experiences and memories. Return to the original meeting point.                                  |

### Itinerary Highlights

- **Total Duration**: 585 minutes (9 hours 45 minutes)
- **Number of Stops**: 10 carefully planned locations
- **Cultural Focus**: Historical sites, traditional experiences, local interactions
- **Image Gallery**: High-quality Unsplash images for each stop
- **Balanced Timing**: Mix of short visits and longer immersive experiences

### Key Experiences

1. **Cultural Immersion**: Visit to historical museum and temple complex
2. **Local Interaction**: Market experience and artisan workshop
3. **Traditional Cuisine**: Authentic lunch at local restaurant
4. **Artistic Heritage**: Cultural performance and tea ceremony
5. **Scenic Beauty**: Mountain viewpoint for photography
6. **Personal Touch**: Welcome orientation and farewell gathering

## Database Structure

### Tour Model

```python
Tour.objects.get(slug='tour-x')
# - max_participants: 60
# - price: $150.00 (base price)
# - currency: USD
```

### Tour Variants

```python
# VIP Variant
- name: "VIP"
- base_price: $250.00
- capacity: 10

# ECO Variant
- name: "ECO"
- base_price: $180.00
- capacity: 10

# NORMAL Variant
- name: "NORMAL"
- base_price: $150.00
- capacity: 10
```

### Tour Schedules

```python
# May 20 Schedule
- start_date: 2024-05-20
- max_capacity: 30
- variant_capacities: {
    "VIP": {"total": 10, "available": 10, "booked": 0},
    "ECO": {"total": 10, "available": 10, "booked": 0},
    "NORMAL": {"total": 10, "available": 10, "booked": 0}
}

# May 21 Schedule
- start_date: 2024-05-21
- max_capacity: 30
- variant_capacities: {
    "VIP": {"total": 10, "available": 10, "booked": 0},
    "ECO": {"total": 10, "available": 10, "booked": 0},
    "NORMAL": {"total": 10, "available": 10, "booked": 0}
}
```

### Tour Itinerary

```python
# Itinerary Items (10 total)
- order: 1, title: "Welcome & Orientation", duration: 30 min
- order: 2, title: "Historical Museum Visit", duration: 90 min
- order: 3, title: "Traditional Market Experience", duration: 60 min
- order: 4, title: "Lunch at Local Restaurant", duration: 75 min
- order: 5, title: "Ancient Temple Complex", duration: 120 min
- order: 6, title: "Cultural Performance", duration: 45 min
- order: 7, title: "Scenic Viewpoint", duration: 30 min
- order: 8, title: "Artisan Workshop Visit", duration: 60 min
- order: 9, title: "Evening Tea Ceremony", duration: 45 min
- order: 10, title: "Farewell & Return", duration: 30 min

# Each item includes:
- title: Translatable field
- description: Translatable field
- location: String field
- image: ImageField (Unsplash URLs)
- duration_minutes: Integer field
```

## Management Commands

### Create Tour X

```bash
python manage.py create_tour_x
```

### Create Tour X Itinerary

```bash
python manage.py create_tour_x_itinerary
```

### Update Tour X Features

```bash
python manage.py update_tour_x_features
```

### Create Tour X Reviews

```bash
python manage.py create_tour_x_reviews
```

### Add Persian Translations for Itinerary

```bash
python manage.py update_tour_x_itinerary_translations
```

### Verify Tour X Setup

```bash
python verify_tour_x_capacity.py
```

### Verify Tour X Itinerary

```bash
python verify_tour_x_itinerary.py
```

### Verify Tour X Reviews

```bash
python verify_tour_x_reviews.py
```

### Verify Tour X Translations

```bash
python verify_tour_x_translations.py
```

## API Endpoints

The tour is accessible via the following API endpoints:

- **Tour Details**: `GET /api/v1/tours/tour-x/`
- **Tour Schedules**: `GET /api/v1/tours/tour-x/schedules/`
- **Tour Variants**: `GET /api/v1/tours/tour-x/variants/`
- **Tour Options**: `GET /api/v1/tours/tour-x/options/`
- **Tour Itinerary**: `GET /api/v1/tours/tour-x/itinerary/`
- **Tour Reviews**: `GET /api/v1/tours/tour-x/reviews/`

## Frontend Integration

The tour will be displayed in the frontend with:

- Real-time capacity availability
- Variant selection with pricing
- Schedule selection for May 20 and May 21
- Option selection for additional services
- **Complete itinerary display with images**
- **Interactive itinerary timeline**
- **Location-based information**
- **Transport type display (Land/Air/Boat)**
- **Tour type display (Day/Night)**
- **City and country information**
- **Featured and popular badges**
- **Gallery images (5 high-quality images)**
- **Cancellation policy display**
- **Persian translations support**
- **Reviews and ratings display**
- **Average rating calculation**
- **Review filtering and sorting**
- **Complete bilingual itinerary (Persian/English)**
- **Language switching support**
- Booking form with participant count validation

## Capacity Management

The system automatically:

- Tracks available capacity per variant per schedule
- Prevents overbooking beyond capacity limits
- Updates availability in real-time as bookings are made
- Handles capacity release when bookings are cancelled

---

**Status**: ✅ Tour X successfully created and verified with all specified capacity requirements.
