# راهنمای راه‌اندازی پروژه در محیط لوکال

## پیش‌نیازها

### برای Backend (Django):
- Python 3.10 یا بالاتر
- pip (مدیریت پکیج‌های Python)

### برای Frontend (Next.js):
- Node.js 18 یا بالاتر
- npm یا yarn

---

## مرحله 1️⃣: راه‌اندازی Backend

### 1. ایجاد محیط مجازی Python
```bash
cd backend
python -m venv venv
```

### 2. فعال‌سازی محیط مجازی
```bash
# در Windows:
venv\Scripts\activate
```

### 3. نصب پکیج‌های مورد نیاز
```bash
pip install -r requirements.txt
```

### 4. تنظیم فایل محیطی (.env)
```bash
copy env.development .env
```

### 5. اجرای Migration های دیتابیس
```bash
python manage.py migrate
```

### 6. ایجاد کاربر ادمین (اختیاری)
```bash
python manage.py createsuperuser
```

### 7. اجرای سرور Django
```bash
python manage.py runserver
```

✅ Backend روی `http://localhost:8000` در دسترس خواهد بود

---

## مرحله 2️⃣: راه‌اندازی Frontend

### 1. نصب پکیج‌های Node.js
```bash
cd frontend
npm install
```

### 2. اجرای سرور Development
```bash
npm run dev
```

✅ Frontend روی `http://localhost:3000` در دسترس خواهد بود

---

## دسترسی به پنل ادمین Django
- آدرس: `http://localhost:8000/admin`
- با کاربر ادمینی که ساختید وارد شوید

## API Documentation
- Swagger UI: `http://localhost:8000/api/schema/swagger-ui/`
- ReDoc: `http://localhost:8000/api/schema/redoc/`

---

## نکات مهم

1. **دیتابیس**: پروژه از SQLite برای محیط لوکال استفاده می‌کند
2. **CORS**: تنظیمات CORS برای localhost:3000 فعال است
3. **زبان‌ها**: پروژه از سه زبان فارسی، انگلیسی و ترکی پشتیبانی می‌کند
4. **پرداخت**: در محیط لوکال از Mock Payment Gateway استفاده می‌شود

---

## مشکلات رایج

### خطای CORS
اگر با خطای CORS مواجه شدید، مطمئن شوید که:
- Backend روی پورت 8000 در حال اجرا است
- Frontend روی پورت 3000 در حال اجرا است
- فایل `.env` در backend به درستی تنظیم شده است

### خطای Migration
```bash
python manage.py makemigrations
python manage.py migrate
```

### خطای نصب پکیج‌ها در Frontend
```bash
npm cache clean --force
npm install
```
