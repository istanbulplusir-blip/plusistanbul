# ðŸ§¾ Invoice System

> Ø³ÛŒØ³ØªÙ… Ø¬Ø§Ù…Ø¹ ÙØ§Ú©ØªÙˆØ± Ùˆ Ù¾Ø±Ø¯Ø§Ø®Øª Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú†Ù†Ø¯Ø²Ø¨Ø§Ù†Ù‡

---

## ðŸ“š Ù…Ø³ØªÙ†Ø¯Ø§Øª Ù…ÙˆØ¬ÙˆØ¯

### ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§
- **[INVOICE_SYSTEM_ANALYSIS.md](./INVOICE_SYSTEM_ANALYSIS.md)** - ØªØ­Ù„ÛŒÙ„ Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ…
- **[MULTILINGUAL_INVOICE_SYSTEM.md](./MULTILINGUAL_INVOICE_SYSTEM.md)** - Ø³ÛŒØ³ØªÙ… Ú†Ù†Ø¯Ø²Ø¨Ø§Ù†Ù‡
- **[UNIFIED_INVOICE_SYSTEM.md](./UNIFIED_INVOICE_SYSTEM.md)** - Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡
- **[DETAILED_INVOICE_SYSTEM.md](./DETAILED_INVOICE_SYSTEM.md)** - Ø¬Ø²Ø¦ÛŒØ§Øª Ú©Ø§Ù…Ù„

### Ø±Ø§Ù‡Ù†Ù…Ø§Ù‡Ø§
- **[INVOICE_TESTING_GUIDE.md](./INVOICE_TESTING_GUIDE.md)** - Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ ØªØ³Øª
- **[TEST_INVOICE_DOWNLOAD.md](./TEST_INVOICE_DOWNLOAD.md)** - ØªØ³Øª Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§Ú©ØªÙˆØ±

---

## ðŸŽ¯ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§

### ÙØ§Ú©ØªÙˆØ±
- âœ… Ø§ÛŒØ¬Ø§Ø¯ Ø®ÙˆØ¯Ú©Ø§Ø± ÙØ§Ú©ØªÙˆØ±
- âœ… Ø´Ù…Ø§Ø±Ù‡ ÙØ§Ú©ØªÙˆØ± ÛŒÚ©ØªØ§
- âœ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ù…Ù„ Ø³ÙØ§Ø±Ø´
- âœ… Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„Ø§Øª

### Ú†Ù†Ø¯Ø²Ø¨Ø§Ù†Ù‡
- âœ… ÙØ§Ø±Ø³ÛŒ (RTL)
- âœ… Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ (LTR)
- âœ… ØªØ±Ú©ÛŒ (LTR)
- âœ… ØªØ´Ø®ÛŒØµ Ø®ÙˆØ¯Ú©Ø§Ø± Ø²Ø¨Ø§Ù†

### PDF Generation
- âœ… ØªÙˆÙ„ÛŒØ¯ PDF Ø¨Ø§ Ú©ÛŒÙÛŒØª Ø¨Ø§Ù„Ø§
- âœ… ÙÙˆÙ†Øªâ€ŒÙ‡Ø§ÛŒ ÙØ§Ø±Ø³ÛŒ
- âœ… Ù„ÙˆÚ¯Ùˆ Ùˆ Ø¨Ø±Ù†Ø¯ÛŒÙ†Ú¯
- âœ… QR Code

### Ø§Ø±Ø³Ø§Ù„
- âœ… Ø§ÛŒÙ…ÛŒÙ„ Ø®ÙˆØ¯Ú©Ø§Ø±
- âœ… WhatsApp
- âœ… Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù…Ø³ØªÙ‚ÛŒÙ…

---

## ðŸš€ Ø´Ø±ÙˆØ¹ Ø³Ø±ÛŒØ¹

### Ø¯Ø±ÛŒØ§ÙØª ÙØ§Ú©ØªÙˆØ±

```bash
# Ø¯Ø§Ù†Ù„ÙˆØ¯ PDF
GET /api/v1/orders/{order_number}/invoice/download/

# Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª
GET /api/v1/orders/{order_number}/invoice/

# Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ…ÛŒÙ„
POST /api/v1/orders/{order_number}/invoice/send-email/
```

### ØªØ³Øª

```bash
# Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§Ø³Ú©Ø±ÛŒÙ¾Øª ØªØ³Øª
python backend/orders/examples.py

# ÛŒØ§ Ø¯Ø³ØªÛŒ
curl http://localhost:8000/api/v1/orders/ORD-123/invoice/download/
```

---

## ðŸ“Š Ø³Ø§Ø®ØªØ§Ø± ÙØ§Ú©ØªÙˆØ±

### Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ØµÙ„ÛŒ
- Ø´Ù…Ø§Ø±Ù‡ ÙØ§Ú©ØªÙˆØ±
- ØªØ§Ø±ÛŒØ® ØµØ¯ÙˆØ±
- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø´ØªØ±ÛŒ
- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø±Ú©Øª

### Ø¬Ø²Ø¦ÛŒØ§Øª Ø³ÙØ§Ø±Ø´
- Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª
- Ù‚ÛŒÙ…Øª ÙˆØ§Ø­Ø¯
- ØªØ¹Ø¯Ø§Ø¯
- Ø¬Ù…Ø¹ Ú©Ù„

### Ù…Ø§Ù„ÛŒØ§Øª Ùˆ ØªØ®ÙÛŒÙ
- Ù…Ø§Ù„ÛŒØ§Øª (Ø§Ú¯Ø± ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯)
- ØªØ®ÙÛŒÙ
- Ù…Ø¨Ù„Øº Ù†Ù‡Ø§ÛŒÛŒ

### Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø±Ø¯Ø§Ø®Øª
- Ø±ÙˆØ´ Ù¾Ø±Ø¯Ø§Ø®Øª
- ÙˆØ¶Ø¹ÛŒØª Ù¾Ø±Ø¯Ø§Ø®Øª
- Ø´Ù…Ø§Ø±Ù‡ ØªØ±Ø§Ú©Ù†Ø´

---

## ðŸ”§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª

### Backend Configuration

```python
# backend/orders/pdf_service.py
class InvoicePDFService:
    - generate_invoice_pdf()
    - _add_header()
    - _add_customer_info()
    - _add_items_table()
    - _add_footer()
```

### Email Templates

```python
# backend/orders/email_templates.py
- get_invoice_email_template()
- Multilingual support
- HTML formatting
```

---

## ðŸŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú†Ù†Ø¯Ø²Ø¨Ø§Ù†Ù‡

### ÙØ§Ø±Ø³ÛŒ (RTL)
```python
invoice_data = {
    'language': 'fa',
    'direction': 'rtl',
    'translations': {...}
}
```

### Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ (LTR)
```python
invoice_data = {
    'language': 'en',
    'direction': 'ltr',
    'translations': {...}
}
```

### ØªØ´Ø®ÛŒØµ Ø®ÙˆØ¯Ú©Ø§Ø±
Ø³ÛŒØ³ØªÙ… Ø¨Ø± Ø§Ø³Ø§Ø³ Ø²Ø¨Ø§Ù† Ø³ÙØ§Ø±Ø´ØŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ø²Ø¨Ø§Ù† ÙØ§Ú©ØªÙˆØ± Ø±Ø§ ØªØ´Ø®ÛŒØµ Ù…ÛŒØ¯Ù‡Ø¯.

---

## ðŸ“ ÙØ±Ù…Øª ÙØ§Ú©ØªÙˆØ±

### PDF
- ÙØ±Ù…Øª: A4
- ÙÙˆÙ†Øª ÙØ§Ø±Ø³ÛŒ: Vazir
- ÙÙˆÙ†Øª Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ: Helvetica
- Ú©ÛŒÙÛŒØª: Ø¨Ø§Ù„Ø§

### Ù…Ø­ØªÙˆØ§
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Logo + Company Info             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Invoice Number: INV-2024-001    â”‚
â”‚ Date: 2024-10-18                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Customer Information            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Items Table                     â”‚
â”‚ - Product 1                     â”‚
â”‚ - Product 2                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Subtotal:    $100               â”‚
â”‚ Tax:         $10                â”‚
â”‚ Discount:    -$5                â”‚
â”‚ Total:       $105               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Payment Info                    â”‚
â”‚ QR Code                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”— Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…Ø±ØªØ¨Ø·

- [Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Features](../)
- [Orders System](../../development/)
- [Payment System](../../development/)
- [Email System](../../development/)

---

## ðŸ› Ù…Ø´Ú©Ù„Ø§Øª Ø±Ø§ÛŒØ¬

### ÙØ§Ú©ØªÙˆØ± ØªÙˆÙ„ÛŒØ¯ Ù†Ù…ÛŒØ´ÙˆØ¯
- Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ Ø³ÙØ§Ø±Ø´
- Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø³ÙØ§Ø±Ø´
- Ø¨Ø±Ø±Ø³ÛŒ Ù†ØµØ¨ ReportLab

### ÙÙˆÙ†Øª ÙØ§Ø±Ø³ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù†Ù…ÛŒØ´ÙˆØ¯
- Ø¨Ø±Ø±Ø³ÛŒ Ù†ØµØ¨ ÙÙˆÙ†Øª Vazir
- Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø³ÛŒØ± ÙÙˆÙ†Øª Ø¯Ø± settings

### Ø§ÛŒÙ…ÛŒÙ„ Ø§Ø±Ø³Ø§Ù„ Ù†Ù…ÛŒØ´ÙˆØ¯
- Ø¨Ø±Ø±Ø³ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª SMTP
- Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ…ÛŒÙ„ Ù…Ø´ØªØ±ÛŒ
- Ø¨Ø±Ø±Ø³ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§

---

## ðŸ“¦ Dependencies

```bash
# Python packages
reportlab>=3.6.0
pillow>=9.0.0
qrcode>=7.3.1

# Fonts
vazir-font
```

---

**Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ:** 18 Ø§Ú©ØªØ¨Ø± 2025
